import{useRouter as r}from"next/router";import t from"react";import n from"dlv";import{jsx as e}from"react/jsx-runtime";function o(){return o=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},o.apply(this,arguments)}const a=/<([a-z0-9_-]+)\b[^>]*>(.*?)<\/\1>/gi,i=/{{([a-z0-9._-]+)\s*(.*?)}}/gi,c=/^"(.*)"$/i;function l(){const{locale:e,locales:l,defaultLocale:s}=r();return{t:(r,l)=>{let u=((r,t)=>{const n=(r=>{if(e&&e in r)return r[e];if(s&&s in r)return r[s];throw new Error(`I18n no string for ${s}`)})(r);return"object"==typeof n?t in n?n[t]:n.n:n})(r,null==l?void 0:l.count);return null!=l&&l.params&&(u=u.toString().replace(i,function(r,t,e){const o=n(l.params,t);return"function"==typeof o?o(c.test(e)?e.substring(1,e.length-1):n(l.params,e)):o.toString()}),a.test(u))?u.split(a).map((r,e,a)=>{if(e%3!=1)return r;const i=n(l.params,r);if(!t.isValidElement(i))throw new Error(`I18n non JSX in <${r}>.`);const c=a[e+1];return a[e+1]="",t.cloneElement(i,o({},i.props,{key:e,children:c}))}):u},locale:e,locales:l,defaultLocale:s}}const s=["params","count"],u=r=>{const{params:n,count:o}=r,a=function(r,t){if(null==r)return{};var n,e,o={},a=Object.keys(r);for(e=0;e<a.length;e++)t.indexOf(n=a[e])>=0||(o[n]=r[n]);return o}(r,s),{t:i}=l();return e(t.Fragment,{children:i(a,{params:n,count:o})},void 0)};export{u as I18n,l as useI18n};
//# sourceMappingURL=index.modern.js.map
